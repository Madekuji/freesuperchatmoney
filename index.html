<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <script src="https://apis.google.com/js/api.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <style>
            input{
                display: inline;white-space:nowrap;
                border: none;
                border-bottom: 2px solid black;
                width: 4rem;
                text-align: center;
            }
            div{
                padding: 1rem;
                text-align: center;
            }
        </style>
        <script>
            /*function initialize() {
                var amount = 0;
                var interest = 0;
                var tax = 0;
                document.getElementById('debug').innerHTML = amount + "<br>" + interest + "<br>" + tax + "<br>";
            }*/
            function execute() {
                var currency = document.getElementById('currencyInput').value;
                var amount = document.getElementById('amountInput').value;
                var interest = document.getElementById('interestInput').value;
                var tax = document.getElementById('taxInput').value;
                var calculation = (amount / (1-(tax/100)))*(12/(interest/100))
                if(interest > 0 && amount > 0)
                {
                    document.getElementById('debug').innerHTML = currency + "<br>" + amount + "<br>" + interest + "<br>" + tax + "<br>" + calculation.toFixed(2);
                    if(currency === "")
                    {
                        document.getElementById('adb').innerHTML = new Intl.NumberFormat('en-US').format(calculation);
                    }
                    else{
                        document.getElementById('adb').innerHTML = new Intl.NumberFormat('en-US', { style: 'currency', currency: currency }).format(calculation);
                    }
                    
                }
                
            }
        </script>
    </head>
    <body>
        <div id="main">
        <h1>I want free Super Chat every month!</h1>
        <label>I want a SC worth </label><label id="currency"></label>
            <input id="currencyInput" placeholder="USD" onkeyup="execute()">
            <input id="amountInput" placeholder="50.00" onkeyup="execute()">
            <label>every month</label>
        <br/>
        <label>and my bank interest rate is </label>
            <input id="interestInput" placeholder="0.85" onkeyup="execute()"><label>% per annum,</label>
        <br/>
        <label>also I have to deduct income/withholding tax that is </label>
            <input id="taxInput" placeholder="20" onkeyup="execute()"><label>%</label>
        <br/>
        </div>
        <div>
            <h5>You would need an Average Daily Balance of</h5>
            <h3 id="adb">
                ???
            </h3>
            <h5>in your bank savings account.</h5>
            <h3>Debug:</h3>
            <div id="debug">

            </div>
        </div>
    </body>
</html>